# INTRO-TASK-01

---

### Docker

Собственно. Образ собирается без параметров в корне репозитория и пушится. 

```
docker build -t moraresearch/intro-task-01 .
docker push moraresearch/intro-task-01
```

P.S. так как задание рассчитано под кубер, подготовка хранилища вынесена в init контейнер. Тоесть для запуска вне кубера нужно сначала подготовить волюм поменяв энтрипоинт.

---

### Helm 

Чарт приложения находится в папке deployments.<br/>
Для выполнения задания 1.3 я определяю тип хранилища по значению переменной окружения STORAGE_TYPE которую можно поменять при запуске чарта.<br/>
Для выполнения задания 2.2 я не делаю ничего. (в дефолтном деплойменте все и так указано) Cелекторы устанавливаются при запуске в словаре nodeSelector.<br/>
Для выполнения задания 2.3 при создании/обновлении чарта нужно указать переменную serviceMonitor.enabled в значении true<br/>

```
helm install intro deployment/intro \
    --set serviceMonitor.enabled=true
    --set configmap.storageType=sqlModule
```